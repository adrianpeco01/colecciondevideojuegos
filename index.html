<!DOCTYPE html>
<!-- saved from url=(0058)https://platinumhunt.com/adricollantex?completion=Complete -->
<html lang="en" class="light" style="color-scheme: light;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="preload" href="https://platinumhunt.com/_next/static/media/04ff47e1ca568747-s.p.woff2" as="font" crossorigin="" type="font/woff2"><link rel="stylesheet" href="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/6a6e97510208f44d.css" data-precedence="next"><link rel="preload" as="script" fetchpriority="low" href="https://platinumhunt.com/_next/static/chunks/webpack-c1bcd6ec2f134d68.js"><link rel="preload" href="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/A2103_xl.png" as="image" fetchpriority="high"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Mi colecciÃ³n de videojuegos</title><meta name="description" content="Trophies, games, and stats for user adricollantex."><meta property="og:title" content="adricollantex"><meta property="og:description" content="Trophies, games, and stats for user adricollantex."><meta property="og:url" content="https://platinumhunt.com"><meta property="og:site_name" content="Platinum Hunt"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://static-resource.np.community.playstation.net/avatar_xl/WWS_A/A2103_xl.png"><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="adricollantex"><meta name="twitter:description" content="Trophies, games, and stats for user adricollantex."><meta name="twitter:image" content="http://static-resource.np.community.playstation.net/avatar_xl/WWS_A/A2103_xl.png"><link rel="icon" href="https://platinumhunt.com/favicon.ico" type="image/x-icon" sizes="48x48"><link rel="icon" href="https://platinumhunt.com/icon.svg?80577b741e8f3888" type="image/svg+xml" sizes="any"><link rel="apple-touch-icon" href="https://platinumhunt.com/apple-icon.png?e0cc9f1912f8dd6a" type="image/png" sizes="180x180"><meta name="next-size-adjust"></head><body><div class="relative flex min-h-svh flex-col"><header class="border-border/40 bg-background/95 supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 h-14 w-full border-b backdrop-blur"><div class="container flex h-14 items-center justify-between"><div class="flex items-center"><a class="ml-2 mr-4 hidden font-bold sm:block __className_9fd9c5">Mi colecciÃ³n de videojuegos</a><a class="ml-2 mr-4 font-bold sm:hidden __className_9fd9c5">Mcdv</a></div><div class="flex items-center gap-2 relative ml-4">
  <button id="toggleForm" class="text-xl hover:bg-accent hover:text-accent-foreground transition-colors rounded-md p-2" title="AÃ±adir o editar">âœï¸</button>
  <div id="loginTooltip" class="absolute hidden z-30">
    <div class="relative bg-red-100 border border-red-300 text-red-900 rounded-xl shadow px-4 py-3 text-sm">
      <div class="arrow"></div>
      <p class="mb-2">Inicia sesiÃ³n para poder aÃ±adir o editar juegos.</p>
    </div>
  </div>
  <button id="authStatus" class="text-xl hover:bg-accent hover:text-accent-foreground transition-colors rounded-md p-2" title="Estado autenticaciÃ³n">ğŸ”’</button>
</div>
<button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-70 hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button" id="radix-:R9la:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><path d="M7.5 0C7.77614 0 8 0.223858 8 0.5V2.5C8 2.77614 7.77614 3 7.5 3C7.22386 3 7 2.77614 7 2.5V0.5C7 0.223858 7.22386 0 7.5 0ZM2.1967 2.1967C2.39196 2.00144 2.70854 2.00144 2.90381 2.1967L4.31802 3.61091C4.51328 3.80617 4.51328 4.12276 4.31802 4.31802C4.12276 4.51328 3.80617 4.51328 3.61091 4.31802L2.1967 2.90381C2.00144 2.70854 2.00144 2.39196 2.1967 2.1967ZM0.5 7C0.223858 7 0 7.22386 0 7.5C0 7.77614 0.223858 8 0.5 8H2.5C2.77614 8 3 7.77614 3 7.5C3 7.22386 2.77614 7 2.5 7H0.5ZM2.1967 12.8033C2.00144 12.608 2.00144 12.2915 2.1967 12.0962L3.61091 10.682C3.80617 10.4867 4.12276 10.4867 4.31802 10.682C4.51328 10.8772 4.51328 11.1938 4.31802 11.3891L2.90381 12.8033C2.70854 12.9986 2.39196 12.9986 2.1967 12.8033ZM12.5 7C12.2239 7 12 7.22386 12 7.5C12 7.77614 12.2239 8 12.5 8H14.5C14.7761 8 15 7.77614 15 7.5C15 7.22386 14.7761 7 14.5 7H12.5ZM10.682 4.31802C10.4867 4.12276 10.4867 3.80617 10.682 3.61091L12.0962 2.1967C12.2915 2.00144 12.608 2.00144 12.8033 2.1967C12.9986 2.39196 12.9986 2.70854 12.8033 2.90381L11.3891 4.31802C11.1938 4.51328 10.8772 4.51328 10.682 4.31802ZM8 12.5C8 12.2239 7.77614 12 7.5 12C7.22386 12 7 12.2239 7 12.5V14.5C7 14.7761 7.22386 15 7.5 15C7.77614 15 8 14.7761 8 14.5V12.5ZM10.682 10.682C10.8772 10.4867 11.1938 10.4867 11.3891 10.682L12.8033 12.0962C12.9986 12.2915 12.9986 12.608 12.8033 12.8033C12.608 12.9986 12.2915 12.9986 12.0962 12.8033L10.682 11.3891C10.4867 11.1938 10.4867 10.8772 10.682 10.682ZM5.5 7.5C5.5 6.39543 6.39543 5.5 7.5 5.5C8.60457 5.5 9.5 6.39543 9.5 7.5C9.5 8.60457 8.60457 9.5 7.5 9.5C6.39543 9.5 5.5 8.60457 5.5 7.5ZM7.5 4.5C5.84315 4.5 4.5 5.84315 4.5 7.5C4.5 9.15685 5.84315 10.5 7.5 10.5C9.15685 10.5 10.5 9.15685 10.5 7.5C10.5 5.84315 9.15685 4.5 7.5 4.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M2.89998 0.499976C2.89998 0.279062 2.72089 0.0999756 2.49998 0.0999756C2.27906 0.0999756 2.09998 0.279062 2.09998 0.499976V1.09998H1.49998C1.27906 1.09998 1.09998 1.27906 1.09998 1.49998C1.09998 1.72089 1.27906 1.89998 1.49998 1.89998H2.09998V2.49998C2.09998 2.72089 2.27906 2.89998 2.49998 2.89998C2.72089 2.89998 2.89998 2.72089 2.89998 2.49998V1.89998H3.49998C3.72089 1.89998 3.89998 1.72089 3.89998 1.49998C3.89998 1.27906 3.72089 1.09998 3.49998 1.09998H2.89998V0.499976ZM5.89998 3.49998C5.89998 3.27906 5.72089 3.09998 5.49998 3.09998C5.27906 3.09998 5.09998 3.27906 5.09998 3.49998V4.09998H4.49998C4.27906 4.09998 4.09998 4.27906 4.09998 4.49998C4.09998 4.72089 4.27906 4.89998 4.49998 4.89998H5.09998V5.49998C5.09998 5.72089 5.27906 5.89998 5.49998 5.89998C5.72089 5.89998 5.89998 5.72089 5.89998 5.49998V4.89998H6.49998C6.72089 4.89998 6.89998 4.72089 6.89998 4.49998C6.89998 4.27906 6.72089 4.09998 6.49998 4.09998H5.89998V3.49998ZM1.89998 6.49998C1.89998 6.27906 1.72089 6.09998 1.49998 6.09998C1.27906 6.09998 1.09998 6.27906 1.09998 6.49998V7.09998H0.499976C0.279062 7.09998 0.0999756 7.27906 0.0999756 7.49998C0.0999756 7.72089 0.279062 7.89998 0.499976 7.89998H1.09998V8.49998C1.09998 8.72089 1.27906 8.89997 1.49998 8.89997C1.72089 8.89997 1.89998 8.72089 1.89998 8.49998V7.89998H2.49998C2.72089 7.89998 2.89998 7.72089 2.89998 7.49998C2.89998 7.27906 2.72089 7.09998 2.49998 7.09998H1.89998V6.49998ZM8.54406 0.98184L8.24618 0.941586C8.03275 0.917676 7.90692 1.1655 8.02936 1.34194C8.17013 1.54479 8.29981 1.75592 8.41754 1.97445C8.91878 2.90485 9.20322 3.96932 9.20322 5.10022C9.20322 8.37201 6.82247 11.0878 3.69887 11.6097C3.45736 11.65 3.20988 11.6772 2.96008 11.6906C2.74563 11.702 2.62729 11.9535 2.77721 12.1072C2.84551 12.1773 2.91535 12.2458 2.98667 12.3128L3.05883 12.3795L3.31883 12.6045L3.50684 12.7532L3.62796 12.8433L3.81491 12.9742L3.99079 13.089C4.11175 13.1651 4.23536 13.2375 4.36157 13.3059L4.62496 13.4412L4.88553 13.5607L5.18837 13.6828L5.43169 13.7686C5.56564 13.8128 5.70149 13.8529 5.83857 13.8885C5.94262 13.9155 6.04767 13.9401 6.15405 13.9622C6.27993 13.9883 6.40713 14.0109 6.53544 14.0298L6.85241 14.0685L7.11934 14.0892C7.24637 14.0965 7.37436 14.1002 7.50322 14.1002C11.1483 14.1002 14.1032 11.1453 14.1032 7.50023C14.1032 7.25044 14.0893 7.00389 14.0623 6.76131L14.0255 6.48407C13.991 6.26083 13.9453 6.04129 13.8891 5.82642C13.8213 5.56709 13.7382 5.31398 13.6409 5.06881L13.5279 4.80132L13.4507 4.63542L13.3766 4.48666C13.2178 4.17773 13.0353 3.88295 12.8312 3.60423L12.6782 3.40352L12.4793 3.16432L12.3157 2.98361L12.1961 2.85951L12.0355 2.70246L11.8134 2.50184L11.4925 2.24191L11.2483 2.06498L10.9562 1.87446L10.6346 1.68894L10.3073 1.52378L10.1938 1.47176L9.95488 1.3706L9.67791 1.2669L9.42566 1.1846L9.10075 1.09489L8.83599 1.03486L8.54406 0.98184ZM10.4032 5.30023C10.4032 4.27588 10.2002 3.29829 9.83244 2.40604C11.7623 3.28995 13.1032 5.23862 13.1032 7.50023C13.1032 10.593 10.596 13.1002 7.50322 13.1002C6.63646 13.1002 5.81597 12.9036 5.08355 12.5522C6.5419 12.0941 7.81081 11.2082 8.74322 10.0416C8.87963 10.2284 9.10028 10.3497 9.34928 10.3497C9.76349 10.3497 10.0993 10.0139 10.0993 9.59971C10.0993 9.24256 9.84965 8.94373 9.51535 8.86816C9.57741 8.75165 9.63653 8.63334 9.6926 8.51332C9.88358 8.63163 10.1088 8.69993 10.35 8.69993C11.0403 8.69993 11.6 8.14028 11.6 7.44993C11.6 6.75976 11.0406 6.20024 10.3505 6.19993C10.3853 5.90487 10.4032 5.60464 10.4032 5.30023Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg><span class="sr-only">Toggle theme</span></button></div>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCb5vmEqe_IIasGYvH7e1g1ja56RwSoTSI",
    authDomain: "videojuegos-cfdee.firebaseapp.com",
    projectId: "videojuegos-cfdee",
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  const gameForm = document.getElementById("gameForm");
  const toggleForm = document.getElementById("toggleForm");
  const loginTooltip = document.getElementById("loginTooltip");

  let user = null;

  auth.onAuthStateChanged((u) => {
    user = u;
    document.getElementById("authStatus").textContent = user ? "ğŸ”“" : "ğŸ”’";
  });

  toggleForm.addEventListener("click", () => {
    if (user) {
      gameForm.classList.toggle("hidden");
    } else {
      loginTooltip.classList.remove("hidden");
      setTimeout(() => loginTooltip.classList.add("hidden"), 3000);
    }
  });
</script></header><main class="flex grow flex-col items-stretch"><div class="lg:container lg:flex lg:flex-1 lg:flex-row"><div class="mt-6 block lg:sticky lg:top-20 lg:mr-2 lg:h-[calc(100vh-5rem)] lg:w-96 lg:min-w-96"><div class="bg-card text-card-foreground rounded-xl border-0 shadow-none"><div class="flex flex-col space-y-1.5 p-6 pt-0"><div class="relative mx-auto"><img alt="adricollantex" fetchpriority="high" width="200" height="200" decoding="async" data-nimg="1" class="mb-2 transform-gpu rounded-md drop-shadow-md" src="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/A2103_xl.png" style="color: transparent;"></div><h3 class="text-2xl font-semibold leading-none tracking-tight flex flex-row items-center justify-center">adricollantex<span class="ml-2 mt-0.5 text-2xl">ğŸ‡ªğŸ‡¸</span></h3></div><div class="px-6 pt-0"><div data-orientation="horizontal" role="none" class="bg-border shrink-0 h-[1px] w-full mb-6"></div><div class="mb-6 flex h-14 flex-row justify-between"><div class="flex flex-row items-center"><img alt="254" loading="lazy" width="58" height="55" decoding="async" data-nimg="1" class="mr-4" src="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/bronze3.39efc8c2.png" style="color: transparent;"><div class="flex w-32 flex-col items-center"><div class="text-md font-medium">Level 267</div><div aria-valuemax="100" aria-valuemin="0" role="progressbar" data-state="indeterminate" data-max="100" class="bg-secondary relative h-4 w-full overflow-hidden rounded-full mt-1"><div data-state="indeterminate" data-max="100" class="dark:bg-primary h-full w-full flex-1 bg-black transition-all" style="transform: translateX(-24%);"></div><div class="absolute inset-0 flex items-center justify-center"><span class="text-xs font-medium text-white mix-blend-difference">76%</span></div></div></div></div><div data-orientation="vertical" role="none" class="bg-border shrink-0 h-full w-[1px]"></div><div class="flex flex-col items-center justify-center"><div class="flex text-3xl">1364<button type="button" class="h-fit cursor-pointer self-start" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5"><path d="M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div>Total Trophies</div></div></div><div data-orientation="horizontal" role="none" class="bg-border shrink-0 h-[1px] w-full my-6"></div><div class="flex flex-row justify-between space-x-1"><div class="flex flex-row items-center"><img alt="Platinum trophy" loading="lazy" width="307" height="477" decoding="async" data-nimg="1" class="w-auto h-5 lg:h-6" src="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/platinum.c0edb513.png" style="color: transparent;"><span class="text-lg ml-2">23</span></div><div class="flex flex-row items-center"><img alt="Gold trophy" loading="lazy" width="380" height="459" decoding="async" data-nimg="1" class="w-auto h-5 lg:h-6" src="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/gold.d6c88f73.png" style="color: transparent;"><span class="text-lg ml-2">179</span></div><div class="flex flex-row items-center"><img alt="Silver trophy" loading="lazy" width="351" height="435" decoding="async" data-nimg="1" class="w-auto h-5 lg:h-6" src="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/silver.e2239c30.png" style="color: transparent;"><span class="text-lg ml-2">333</span><button type="button" class="h-fit cursor-pointer self-start" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5"><path d="M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div><div class="flex flex-row items-center"><img alt="Bronze trophy" loading="lazy" width="318" height="417" decoding="async" data-nimg="1" class="w-auto h-5 lg:h-6" src="./adricollantex â€¢ Platinum Hunt MARZO 2025_files/bronze.a58983fd.png" style="color: transparent;"><span class="text-lg ml-2">829</span><button type="button" class="h-fit cursor-pointer self-start" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5"><path d="M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></div><div></div></div></div></div><div class="mt-6 grow lg:mt-4"><div dir="ltr" data-orientation="horizontal" class="w-full px-2 lg:px-0"></div><div class="mx-2 lg:mx-0"><div class="mb-2">
    
<!-- Formulario (Oculto al iniciar) -->
<form id="gameForm" class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-white p-4 rounded-xl shadow mb-8 hidden">

  <!-- URL de imagen -->
  <div class="flex items-center gap-2">
    <span>ğŸ–¼ï¸</span>
    <input type="url" id="imageUrl" placeholder="URL de imagen*" class="border p-2 rounded w-full" required />
  </div>

  <!-- TÃ­tulo -->
  <div class="flex items-center gap-2">
    <span>ğŸ” </span>
    <input type="text" id="title" placeholder="TÃ­tulo*" class="border p-2 rounded w-full" required />
  </div>

<!-- Plataforma -->
<div class="flex items-center gap-2">
  <span>ğŸ®</span>
  <select id="platform" class="border p-2 rounded w-full text-gray-900" required>
    <option value="" disabled selected>Plataforma*</option>
    <!-- opciones dinÃ¡micas -->
  </select>
  <span class="delete-option-btn" title="Eliminar opciÃ³n" onclick="removeSelectedOption('platform')">ğŸ—‘ï¸</span>
  <button type="button" id="addPlatform" class="text-sm text-blue-500 underline">Crear</button>
</div>

<!-- Carpeta -->
<div class="flex items-center gap-2">
  <span>ğŸ“‚</span>
  <select id="folder" class="border p-2 rounded w-full text-gray-900" required>
    <option value="" disabled selected>Carpeta*</option>
    <!-- opciones dinÃ¡micas -->
  </select>
  <span class="delete-option-btn" title="Eliminar opciÃ³n" onclick="removeSelectedOption('folder')">ğŸ—‘ï¸</span>
  <button type="button" id="addFolder" class="text-sm text-blue-500 underline">Crear</button>
</div>
  <!-- CondiciÃ³n -->
  <div class="flex items-center gap-2 col-span-full md:col-span-1">
    <span>ğŸ“¦</span>
    <select id="condition" class="border p-2 rounded w-full" required>
      <option value="" disabled selected>CondiciÃ³n*</option>
      <option value="CIB">CIB</option>
      <option value="Solo Item">Solo Item</option>
      <option value="Caja y Manual">Caja y Manual</option>
      <option value="Manual">Manual</option>
      <option value="CarÃ¡tula">CarÃ¡tula</option>
    </select>
  </div>

  <!-- Estado (5 estrellas) -->
<div class="flex items-center gap-2 border p-2 rounded w-full cursor-pointer select-none" id="estadoStarsContainer" title="Estado*">
  <span>â­</span>
  <div id="estadoStars" class="flex gap-1 text-yellow-400 text-3xl">
    <span data-star="1">â˜†</span>
    <span data-star="2">â˜†</span>
    <span data-star="3">â˜†</span>
    <span data-star="4">â˜†</span>
    <span data-star="5">â˜†</span>
  </div>
</div>

 <!-- Fecha de compra -->
<div class="flex items-center gap-2 w-full">
  <span class="text-xs">ğŸ—“ï¸</span>
  <div class="relative w-full">
    <input 
      type="text" 
      id="purchaseDate" 
      onfocus="this.type='date'" 
      onblur="if(this.value===''){this.type='text'}" 
      placeholder="Fecha de compra*" 
      class="border p-2 rounded w-full text-gray-900 placeholder-gray-400"
      required 
    />
  </div>
</div>


<!-- Fecha de lanzamiento -->
<div class="flex items-center gap-2 w-full">
  <span class="text-xs">ğŸ•‘</span>
  <div class="relative w-full">
    <input 
      type="text" 
      id="releaseDate" 
      onfocus="this.type='date'" 
      onblur="if(this.value===''){this.type='text'}" 
      placeholder="Fecha de lanzamiento" 
      class="border p-2 rounded w-full text-gray-900 placeholder-gray-400"
    />
  </div>
</div>

  <!-- Costo -->
  <div class="flex items-center gap-2">
    <span>ğŸ’¸</span>
    <input type="number" id="cost" placeholder="Coste (â‚¬)*" step="0.01" class="border p-2 rounded w-full" required />
  </div>

  <!-- Valor -->
  <div class="flex items-center gap-2">
    <span>ğŸ’°</span>
    <input type="number" id="value" placeholder="Valor (â‚¬)" step="0.01" class="border p-2 rounded w-full" />
  </div>

  <!-- Enlaces de marketplaces -->
  <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="flex items-center gap-2">
      <img src="https://i.ibb.co/RpbCN10H/217439.png" alt="Wallapop" class="w-6 h-6" />
      <input type="url" id="wallapopLink" placeholder="Enlace Wallapop" class="border p-2 rounded w-full" />
    </div>
    <div class="flex items-center gap-2">
      <img src="https://i.ibb.co/gY2Tqd5/217438.png" alt="Vinted" class="w-6 h-6" />
      <input type="url" id="vintedLink" placeholder="Enlace Vinted" class="border p-2 rounded w-full" />
    </div>
    <div class="flex items-center gap-2">
      <img src="https://i.ibb.co/67Mcg0Qd/217436.png" alt="Ebay" class="w-6 h-6" />
      <input type="url" id="ebayLink" placeholder="Enlace eBay" class="border p-2 rounded w-full" />
    </div>
  </div>

  <!-- Cex y enlace Cex -->
  <div class="flex gap-2 md:col-span-2">
    <div class="flex items-center gap-2 flex-1">
      <span>ğŸ¤‘</span>
      <input type="number" id="cex" placeholder="Cex (â‚¬)" step="0.01" class="border p-2 rounded w-full" />
    </div>
    <div class="flex items-center gap-2 flex-1">
      <img src="https://i.ibb.co/kg4KSbJX/217437.png" alt="Cex" class="w-6 h-6" />
      <input type="url" id="cexLink" placeholder="Enlace Cex" class="border p-2 rounded w-full" />
    </div>
  </div>

  <!-- Otros datos -->
  <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="flex items-center gap-2">
    <span>ğŸ“</span>
    <input type="text" id="purchaseLocation" placeholder="Lugar de compra" class="border p-2 rounded w-full" />
  </div>
    <div class="flex items-center gap-2">
    <span>ğŸŒ</span>
    <input type="text" id="region" placeholder="RegiÃ³n" class="border p-2 rounded w-full" />
  </div>
  <div class="flex items-center gap-2">
    <span>ğŸ</span>
    <input type="text" id="gift" placeholder="Regalo" class="border p-2 rounded w-full" />
  </div>
  </div>

  <div class="flex items-center gap-2 md:col-span-2">
    <span>ğŸ“„</span>
    <textarea id="details" placeholder="Detalles" class="border p-2 rounded w-full"></textarea>
  </div>

  <!-- BotÃ³n Guardar -->
  <button type="submit" class="col-span-full bg-blue-600 text-white py-2 rounded">Guardar</button>
</form>



    <div class="mt-2 flex flex-col items-center space-y-2 lg:flex-row lg:space-x-2 lg:space-y-0"><input class="border-input placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50" placeholder="Search for games" autocomplete="off" autocorrect="off" spellcheck="false"><div class="flex w-full flex-row space-x-2 lg:w-auto">



        <!-- Contenedor de los botones -->
        <div class="flex w-full flex-row space-x-2 lg:w-auto justify-between">
          
    <!-- BotÃ³n principal de orden (Last Updated) -->
    <div class="relative inline-block text-left w-full lg:w-auto">
      <button 
        class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-70 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 w-full lg:w-auto"
        type="button" 
        id="sort-button" 
        aria-haspopup="menu" 
        aria-expanded="false" 
        data-state="closed"
        onclick="toggleSortMenu()"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-up-down mr-1 h-4">
          <path d="m21 16-4 4-4-4"></path>
          <path d="M17 20V4"></path>
          <path d="m3 8 4-4 4 4"></path>
          <path d="M7 4v16"></path>
        </svg>
        <div class="hidden lg:block" id="sort-button-label">Last Updated</div>
      </button>

      <!-- MenÃº desplegable que sale debajo -->
      <div id="sort-menu" class="hidden absolute right-0 mt-2 w-36 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 border border-gray-200" style="background-color: white !important;">
        <div class="py-1">
          <div id="option-lastupdated" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">Last Updated</div>
          <div id="option-alphabetical" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">Alphabetical</div>
        </div>
    </div>
    </div>

  <!-- BotÃ³n 2: All -->
  <div class="relative inline-block text-left w-full lg:w-auto">
  <button 
    class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-70 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 w-full lg:w-auto"
    type="button"
    id="all-button"
    aria-haspopup="menu"
    aria-expanded="false"
    data-state="closed"
    onclick="toggleAllMenu()"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-list-filter mr-1 h-4">
      <path d="M3 6h18"></path>
      <path d="M7 12h10"></path>
      <path d="M10 18h4"></path>
    </svg>
    <div class="hidden lg:block" id="all-button-label">All</div>
  </button>

  <!-- MenÃº desplegable que sale debajo para All -->
  <div id="all-menu" class="hidden absolute right-0 mt-2 w-36 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 border border-gray-200" style="background-color: white !important;">
    <div class="py-1">
  <div id="option-all" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">All</div>
    <div id="option-platinum" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">Platinum</div>
    <div id="option-100" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">100%</div>
    </div>
  </div>
  </div>


<!-- BotÃ³n de plataforma actualizado -->
<div class="relative inline-block text-left w-full lg:w-auto">
  <button id="platform-button"
    class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-70 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 w-full lg:w-auto"
    type="button"
    id="all-button"
    aria-haspopup="menu"
    aria-expanded="false"
    data-state="closed"
    onclick="toggleAllMenu()"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gamepad2 mr-1 h-4">
        <line x1="6" x2="10" y1="11" y2="11"></line>
        <line x1="8" x2="8" y1="9" y2="13"></line>
        <line x1="15" x2="15.01" y1="12" y2="12"></line>
        <line x1="18" x2="18.01" y1="10" y2="10"></line>
        <path d="M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z"></path>
      </svg>
    <div class="hidden lg:block" id="platform-button-label">All</div>
  </button>

  <!-- MenÃº desplegable que sale debajo para All -->
  <div id="platform-menu" class="hidden absolute right-0 mt-2 w-36 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 border border-gray-200" style="background-color: white !important;">
    <div class="py-1">
      <div id="platform-option-all" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">All</div>
      <div id="platform-option-ps3" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">PS3</div>
      <div id="platform-option-ps4" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">PS4</div>
      <div id="platform-option-ps5" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">PS5</div>
      <div id="platform-option-vita" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">Vita</div>
      <div id="platform-option-pc" class="block px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-100">PC</div>
    </div>
  </div>
  </div>

</div>
          
          
        
        </div></div><div id="games-container" class="grid-cols-previews mb-2 mt-1 grid">
          </div></main></div><link rel="preload" as="image" href="https://static-resource.np.community.playstation.net/avatar_xl/WWS_A/A2103_xl.png" fetchpriority="high"><next-route-announcer style="position: absolute;"><template shadowrootmode="open"><div aria-live="assertive" id="__next-route-announcer__" role="alert" style="position: absolute; border: 0px; height: 1px; margin: -1px; padding: 0px; width: 1px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden; white-space: nowrap; overflow-wrap: normal;">adricollantex â€¢ Platinum Hunt</div></template></next-route-announcer>
<script>

document.addEventListener('DOMContentLoaded', () => {
  const authStatusBtn = document.getElementById('authStatus');
  const loginModal = document.getElementById('loginModal');
  const loginEmail = document.getElementById('loginEmail');
  const loginPassword = document.getElementById('loginPassword');
  const loginSubmit = document.getElementById('loginSubmit');
  const logoutButton = document.getElementById('logoutButton');
  const gamesContainer = document.getElementById('games-container'); // âœ… asegÃºrate que esto exista

  let isAuthenticated = false;

  function updateAuthStatusIcon(user) {
    if (user) {
      isAuthenticated = true;
      authStatusBtn.textContent = 'ğŸ”“';
      authStatusBtn.title = `Autenticado como: ${user.email}`;
    } else {
      isAuthenticated = false;
      authStatusBtn.textContent = 'ğŸ”’';
      authStatusBtn.title = 'No autenticado';
    }
  }

  auth.onAuthStateChanged(user => {
    updateAuthStatusIcon(user);
    if (!user && typeof form !== 'undefined') {
      form.classList.add('hidden');
    }

    // âœ… Llama aquÃ­ a renderGamesFromFirebase para asegurar que se ejecuta tras autenticar o no
    renderGamesFromFirebase();
  });

  authStatusBtn.onclick = () => {
    if (isAuthenticated) {
      auth.signOut().then(() => alert('SesiÃ³n cerrada'));
    } else {
      loginModal.classList.remove('hidden');
    }
  };

  loginSubmit.onclick = () => {
    const email = loginEmail.value.trim();
    const password = loginPassword.value.trim();

    if (!email || !password) {
      alert('Introduce correo y contraseÃ±a');
      return;
    }

    auth.signInWithEmailAndPassword(email, password)
      .then(() => {
        loginModal.classList.add('hidden');
        loginModal.classList.remove('login-error');
        if (typeof form !== 'undefined') {
          form.classList.remove('hidden');
        }
      })
      .catch(() => {
        loginModal.classList.add('login-error');
      });
  };

  logoutButton.onclick = () => {
    loginModal.classList.add('hidden');
    loginModal.classList.remove('login-error');
  };

  loginModal.onclick = (e) => {
    if (e.target === loginModal) {
      loginModal.classList.add('hidden');
      loginModal.classList.remove('login-error');
    }
  };

const loginBox = document.getElementById("loginBox");

// Mostrar modal con animaciÃ³n
function showLoginModal() {
  showLoginModal();

  requestAnimationFrame(() => {
    loginModal.classList.add("opacity-100");
    loginBox.classList.remove("opacity-0", "scale-95");
    loginBox.classList.add("opacity-100", "scale-100");
  });
}

// Ocultar modal con animaciÃ³n
function hideLoginModal() {
  loginModal.classList.remove("opacity-100");
  loginBox.classList.remove("opacity-100", "scale-100");
  loginBox.classList.add("opacity-0", "scale-95");

  setTimeout(() => {
    hideLoginModal();
  }, 300);
}

  async function loadGames() {
  const snap = await db.collection("games").get();
  const gamesContainer = document.getElementById("games-container");
  gamesContainer.innerHTML = ""; // Limpia antes de insertar

  snap.forEach(doc => {
    const game = doc.data();
    const card = document.createElement("a");
    card.className = "mx-auto my-1 w-[176px]";
    card.href = "#";
    card.target = "_blank";

    card.innerHTML = `
      <div class="text-card-foreground rounded-xl border shadow-md p-2 duration-200 ease-in-out bg-platinum hover:bg-platinum/50">
        <div class="flex flex-col space-y-1.5 p-0">
          <div class="flex flex-col">
            <div class="grid h-[158px]">
              <div class="col-start-1 row-start-1 w-full self-center" style="height: 158px;">
                <img alt="${game.title}" class="rounded-md text-center bg-primary/10 object-cover w-full h-full" src="${game.imageUrl}" style="color: transparent;" />
              </div>
            </div>
            <div class="mt-2 truncate text-sm font-medium text-center" title="${game.title}">${game.title}</div>
          </div>
        </div>
        <div class="pt-1">
          <div class="flex justify-center items-center bg-black text-white text-xs font-medium rounded-full h-4">
            <span class="px-2">${game.cost ? game.cost + " â‚¬" : "â€”"}</span>
          </div>
        </div>
      </div>
    `;
    gamesContainer.appendChild(card);
  });
}




  let selectedTypes = new Set();  // AÃ±adir al principio del script
  // --- BÃºsqueda ---
 const searchInput = document.querySelector('input[placeholder="Search for games"]');
 const gameCardsContainer = document.getElementById('games-container');
 const gameCards = () => gameCardsContainer.querySelectorAll('a.mx-auto');
 let originalCardsOrder = []; // Nuevo: para guardar las cartas originales
 
 document.addEventListener('DOMContentLoaded', function() {
   originalCardsOrder = Array.from(gameCards()); // Guardarlas cuando la pÃ¡gina cargue
 
   searchInput.addEventListener('input', function() {
     const filter = searchInput.value.toLowerCase();
 
     gameCards().forEach(card => {
       const img = card.querySelector('img');
       const altText = img ? img.alt.toLowerCase() : '';
 
       if (altText.includes(filter)) {
         card.style.display = 'block';
       } else {
         card.style.display = 'none';
       }
     });
   });
 
   // --- OrdenaciÃ³n ---
   const sortButton = document.getElementById('sort-button');
   const sortMenu = document.getElementById('sort-menu');
   const sortButtonLabel = document.getElementById('sort-button-label');
   const optionAlphabetical = document.getElementById('option-alphabetical');
   const optionLastUpdated = document.getElementById('option-lastupdated');
 
   sortButton.addEventListener('click', (e) => {
  e.stopPropagation();
  sortMenu.classList.toggle('hidden');
  allMenu.classList.add('hidden'); // ğŸ”’ cerrar el otro menÃº
  platformMenu.classList.add('hidden'); // ğŸ”’ cerrar menÃº de plataformas
});

 
   optionAlphabetical.addEventListener('click', (e) => {
     e.stopPropagation();
     sortButtonLabel.textContent = 'Alphabetical';
     sortMenu.classList.add('hidden');
     sortGamesAlphabetically();
     selectOption('sort-menu', 'option-alphabetical');
   });
 
   optionLastUpdated.addEventListener('click', (e) => {
     e.stopPropagation();
     sortButtonLabel.textContent = 'Last Updated';
     sortMenu.classList.add('hidden');
     restoreOriginalOrder(); // Ahora restauramos el orden original sin recargar la pÃ¡gina
     selectOption('sort-menu', 'option-lastupdated');
   });
 
   document.addEventListener('click', (e) => {
     if (!sortButton.contains(e.target) && !sortMenu.contains(e.target)) {
       sortMenu.classList.add('hidden');
     }
   });
 
   function sortGamesAlphabetically() {
     const cardsArray = Array.from(gameCards());
 
     cardsArray.sort((a, b) => {
       const imgA = a.querySelector('img');
       const imgB = b.querySelector('img');
       const altA = imgA ? imgA.alt.toLowerCase() : '';
       const altB = imgB ? imgB.alt.toLowerCase() : '';
       return altA.localeCompare(altB);
     });
 
     gameCardsContainer.innerHTML = '';
     cardsArray.forEach(card => gameCardsContainer.appendChild(card));
   }
 
   // FunciÃ³n para restaurar el orden original sin recargar la pÃ¡gina
   function restoreOriginalOrder() {
     gameCardsContainer.innerHTML = '';  // Borrar el contenedor
     originalCardsOrder.forEach(card => gameCardsContainer.appendChild(card)); // Volver a poner las cartas en el orden original
   }
 
    // --- Filtro por All, Limited, Full ---
    const allButton = document.getElementById('all-button');
    const allMenu = document.getElementById('all-menu');
    const allButtonLabel = document.getElementById('all-button-label');
    const optionAll = document.getElementById('option-all');
    const optionLimited = document.getElementById('option-100');
    const optionFull = document.getElementById('option-platinum');

    allButton.addEventListener('click', (e) => {
  e.stopPropagation();
  allMenu.classList.toggle('hidden');
  sortMenu.classList.add('hidden'); // ğŸ”’ cerrar el otro menÃº
  platformMenu.classList.add('hidden'); // ğŸ”’ cerrar menÃº de plataformas
});


    optionAll.addEventListener('click', (e) => {
  e.stopPropagation();
  selectedTypes.clear();  
  setActiveOption(optionAll, 'All');
  allMenu.classList.add('hidden');
  showAllGames();
});

optionLimited.addEventListener('click', (e) => {
  e.stopPropagation();
  selectedTypes.clear();
  selectedTypes.add('100%'); // Filtra solo los juegos con id="100%"
  setActiveOption(optionLimited, '100%');
  allMenu.classList.add('hidden');
  applyCombinedFilters(); // Aplica el filtro combinado con plataformas
});



optionFull.addEventListener('click', (e) => {
  e.stopPropagation();
  selectedTypes.clear();
  selectedTypes.add('Platinum'); // Filtra solo los juegos con id="Platinum"
  setActiveOption(optionFull, 'Platinum');
  allMenu.classList.add('hidden');
  applyCombinedFilters(); // Aplica el filtro combinado con plataformas
});




    document.addEventListener('click', (e) => {
      if (!allButton.contains(e.target) && !allMenu.contains(e.target)) {
        allMenu.classList.add('hidden');
      }
    });

    function showAllGames() {
  // Asegurarse de que se muestran todos los juegos, pero respetando la plataforma seleccionada
  gameCards().forEach(card => {
    const matchesPlatform = selectedPlatforms.size === 0 || Array.from(card.querySelectorAll('svg')).some(svg => selectedPlatforms.has(svg.id));
    card.style.display = matchesPlatform ? 'block' : 'none';
  });
}

function applyCombinedFilters() {
  gameCards().forEach(card => {
    // Filtrar por tipo
    const matchesType = selectedTypes.size === 0 || selectedTypes.has(card.id);
    // Filtrar por plataforma
    const matchesPlatform = selectedPlatforms.size === 0 || Array.from(card.querySelectorAll('svg')).some(svg => selectedPlatforms.has(svg.id));
    
    // Mostrar el juego solo si cumple ambos filtros
    card.style.display = (matchesType && matchesPlatform) ? 'block' : 'none';
  });
}



 
   // --- Sistema de selecciÃ³n del punto ---
   function clearSelections(menuId) {
     const options = document.querySelectorAll(`#${menuId} .block`);
     
     options.forEach(option => {
       option.innerHTML = option.textContent.trim().replace(/^Â·\s*/, ''); // Quitar el punto
       option.style.fontWeight = 'normal'; // Normalizar la fuente
     });
   }
 
   function selectOption(menuId, optionId) {
     clearSelections(menuId); // Limpiar solo las opciones del menÃº indicado
 
     const selectedOption = document.getElementById(optionId);
     if (selectedOption) {
       selectedOption.innerHTML = `<strong>Â·</strong> ${selectedOption.textContent.trim().replace(/^Â·\s*/, '')}`; // Poner el Â· en negrita
     }
   }

   function setActiveOption(activeElement, labelText) {
  [optionAll, optionLimited, optionFull].forEach(opt => {
    opt.innerHTML = opt.textContent.trim().replace(/^Â·\s*/, '');  // Limpiar el punto
  });

  activeElement.innerHTML = `<strong>Â·</strong> ${labelText}`;
  allButtonLabel.textContent = labelText;
}


const platformButton = document.getElementById('platform-button');
const platformMenu = document.getElementById('platform-menu');
const platformButtonLabel = document.getElementById('platform-button-label');
const platformOptionAll = document.getElementById('platform-option-all');
const platformOptionPS3 = document.getElementById('platform-option-ps3');
const platformOptionPS4 = document.getElementById('platform-option-ps4');
const platformOptionPS5 = document.getElementById('platform-option-ps5');
const platformOptionVita = document.getElementById('platform-option-vita');
const platformOptionPC = document.getElementById('platform-option-pc');


let selectedPlatforms = new Set();

platformButton.addEventListener('click', (e) => {
  e.stopPropagation();
  closeMenusExcept('platform-menu');
  platformMenu.classList.toggle('hidden');
  if (!platformMenu.classList.contains('hidden')) {
    adjustPlatformMenuPosition(); // â† AÃ‘ADE ESTA LÃNEA
  }
});

// Ajustar posiciÃ³n del menÃº si se desborda
function adjustPlatformMenuPosition() {
  const menu = platformMenu;
  const rect = menu.getBoundingClientRect();
  const overflowRight = rect.right > window.innerWidth;

  if (overflowRight) {
    menu.style.right = '0';     // pega al borde derecho de la ventana
    menu.style.left = 'auto';   // evita conflicto si estaba a la derecha del botÃ³n
  } else {
    menu.style.right = '';      // resetear si no hay overflow
    menu.style.left = '';       // resetear si no hay overflow
  }
}

function closeMenusExcept(openId) {
  ['sort-menu', 'all-menu', 'platform-menu'].forEach(id => {
    const menu = document.getElementById(id);
    if (id !== openId) {
      menu.classList.add('hidden'); // Cerrar menÃºs no seleccionados
      // Restablecer la posiciÃ³n del menÃº de plataformas
      if (id === 'platform-menu') {
        menu.style.right = '';
        menu.style.left = '';
      }
    } else {
      if (id === 'platform-menu') {
        adjustPlatformMenuPosition(); // Ajustar la posiciÃ³n si estÃ¡ abierto
      }
    }
  });
}


platformOptionAll.addEventListener('click', (e) => {
  e.stopPropagation();

  if (selectedPlatforms.size === 0) {
    // Si ya estÃ¡ en modo "All", al volver a pulsar, seleccionamos todas las plataformas
    selectedPlatforms = new Set(['PS3', 'PS4', 'PS5', 'Vita', 'PC']);
  } else {
    // Si hay alguna seleccionada, entonces vaciamos el set (modo All original)
    selectedPlatforms.clear();
  }

  updatePlatformSelectionUI();
  applyCombinedFilters();
});



[
  { id: 'PS3', element: platformOptionPS3 },
  { id: 'PS4', element: platformOptionPS4 },
  { id: 'PS5', element: platformOptionPS5 },
  { id: 'Vita', element: platformOptionVita },
  { id: 'PC', element: platformOptionPC },
].forEach(({ id, element }) => {
  element.addEventListener('click', (e) => {
    e.stopPropagation();
    if (selectedPlatforms.has(id)) {
      selectedPlatforms.delete(id);
    } else {
      selectedPlatforms.add(id);
    }
    updatePlatformSelectionUI();
    filterGamesByPlatform();
  });
});



function updatePlatformSelectionUI() {
  [platformOptionAll, platformOptionPS3, platformOptionPS4, platformOptionPS5, platformOptionVita, platformOptionPC].forEach(opt => {
    opt.innerHTML = opt.textContent.trim().replace(/^âœ“\s*/, '');
  });

  if (selectedPlatforms.size === 0) {
    platformOptionAll.innerHTML = `<strong>âœ“</strong> All`;
    platformButtonLabel.textContent = 'All';
  } else {
    if (selectedPlatforms.has('PS3')) platformOptionPS3.innerHTML = `<strong>âœ“</strong> PS3`;
    if (selectedPlatforms.has('PS4')) platformOptionPS4.innerHTML = `<strong>âœ“</strong> PS4`;
    if (selectedPlatforms.has('PS5')) platformOptionPS5.innerHTML = `<strong>âœ“</strong> PS5`;
    if (selectedPlatforms.has('Vita')) platformOptionVita.innerHTML = `<strong>âœ“</strong> Vita`;
    if (selectedPlatforms.has('PC')) platformOptionPC.innerHTML = `<strong>âœ“</strong> PC`;
    platformButtonLabel.textContent = Array.from(selectedPlatforms).join(', ');
  }
}



function filterGamesByPlatform() {
  gameCards().forEach(card => {
    // Buscar todos los <svg> dentro de la tarjeta
    const svgsInCard = card.querySelectorAll('svg');

    // Si no hay ninguna plataforma seleccionada, mostramos todos los juegos
    const matchesPlatform = selectedPlatforms.size === 0 || Array.from(svgsInCard).some(svg => selectedPlatforms.has(svg.id));
    
    // Verificar que el juego tambiÃ©n coincida con el tipo seleccionado
    const matchesType = selectedTypes.size === 0 || selectedTypes.has(card.id);

    // Mostrar el juego solo si cumple con los filtros de plataforma y tipo
    const shouldShow = (matchesPlatform && matchesType);
    card.style.display = shouldShow ? 'block' : 'none';
  });
}



   // --- MARCAR por defecto ---
   selectOption('sort-menu', 'option-lastupdated');
   selectOption('all-menu', 'option-all');
   selectedPlatforms.clear();  // Vaciar selecciÃ³n al cargar
updatePlatformSelectionUI();  // Refrescar UI
applyCombinedFilters();      // Aplicar filtros (mostrar todos los juegos)

 }); // AquÃ­ cerramos el 'DOMContentLoaded'
 


   // âœ… FUNCIÃ“N PARA CARGAR JUEGOS
  function renderGamesFromFirebase() {
    gamesContainer.innerHTML = "";

    db.collection('games').get().then(snapshot => {
      snapshot.forEach(doc => {
        const data = doc.data();
        const platform = data.platform || "";
        const { title, image, value, link } = data;
        const imageSrc = image && image.trim() !== "" 
          ? image 
          : "https://via.placeholder.com/158x158?text=Sin+Imagen";

        const imgStyle = platform === "Nintendo DS" 
          ? "color: transparent; height: 130px; width: auto;" 
          : "color: transparent; height: 154px; width: auto;";

        const html = `
          <a id="Platinum" class="mx-auto my-1 w-[176px]" href="${link || '#'}" target="_blank" style="display: block;">
            <div 
              class="text-card-foreground rounded-xl border shadow-md p-2 duration-200 ease-in-out" 
              style="background-color: rgba(242, 249, 255, 1);" 
              onmouseover="this.style.backgroundColor='rgba(230, 245, 255, 1)';" 
              onmouseout="this.style.backgroundColor='rgba(242, 249, 255, 1)';"
            >
              <div class="flex flex-col space-y-1.5 p-0">
                <div class="flex flex-col">
                  <div class="grid h-[158px]">
                    <div class="col-start-1 row-start-1 w-full flex justify-center items-center" style="height: 154px;">
                      <img 
                        alt="${title}" 
                        loading="lazy" 
                        height="${platform === "Nintendo DS" ? 130 : 154}" 
                        decoding="async" 
                        class="rounded-md text-center bg-primary/10" 
                        src="${imageSrc}" 
                        style="${imgStyle}"
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div class="p-0">
                <div class="bg-border shrink-0 h-[1px] w-full mb-1 mt-1"></div>
                <div>
                  <div role="progressbar" class="bg-blue-300 relative h-4 w-full overflow-hidden rounded-full mt-1.5">
                    <div class="dark:bg-primary h-full w-full flex-1 bg-black transition-all" style="transform: translateX(0%);"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                      <span class="text-xs font-medium text-white mix-blend-difference">${(Number(value) || 0).toFixed(2)}â‚¬</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </a>
        `;

        gamesContainer.innerHTML += html;
      });
    });
  }

});
 </script>

 <!-- Modal login -->
<div id="loginModal" class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm hidden flex justify-center items-center z-50 transition-opacity duration-300">
  <div class="bg-white p-6 rounded-xl max-w-sm w-full relative shadow-lg transform scale-95 opacity-0 transition-all duration-300" id="loginBox">
    <h2 class="text-xl font-bold mb-4">Iniciar sesiÃ³n</h2>
    <input id="loginEmail" type="email" placeholder="Correo" class="w-full mb-2 border p-2 rounded" />
    <input id="loginPassword" type="password" placeholder="ContraseÃ±a" class="w-full mb-4 border p-2 rounded" />
    <button id="loginSubmit" class="w-full bg-blue-600 text-white py-2 rounded">Acceder</button>
    <button id="logoutButton" class="text-gray-500 hover:text-gray-700 text-sm px-2 py-1 mt-2 mx-auto block">Salir</button>
  </div>
</div>

</body></html>